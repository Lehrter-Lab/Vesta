# Vesta

This repository contains backups of essential inputs for the Vesta model as well as scripts to handle mesh validation and model outputs.

## Mesh Generation and Validation
### mesh_cfl_calculator
Imports mesh.2dm file and converts it to mesh.gr3 file. Then iterates over each element to calculate their respective Courant–Friedrichs–Lewy numbers, color-code and plot them over the mesh.

### Extractnodes3
Looks in the ./outputs folder for target model outputs then selects target nodes from these files and compiles them to a tsv for legibility.

### Validation
This is a script to take tsv and csv files from USGS, NOAA, and interpretted SCHISM outputs and plot them station by station for model validation.

## Particle Tracking
### points_to_bp
This script will take a shapefile or a hdf5 file and generate a particle.bp file that can be plugged directly into SCHISM's particle tracking module.

### pth_to_netcdf
This converts the particle.pth file to a netcdf for future processing

## Small Pipeline
pth_to_netcdf.py -> netcdf_to_visual.py

### netcdf_to_visual
This takes the particle.nc file generated by pth_to_netcdf and calculates the residence (time of first exit from target domain - time initial) and exposure time (cumulative time in target domain) and generates a particle_times.nc file. It will also append an inside boolean field to the original netcdf. If these outputs have already been generated, the script will automatically omit those calculations and begin with plot generation. THIS ONLY WORKS FOR SMALL RUNS.

## Large Pipeline
